<!DOCTYPE html>
<html>

<head>
  <title>Navigating Migration: Unveiling the Patterns of Migration to Malaysia</title>

  <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

  <!-- Import pure.css for layout -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" />
  
  <!-- Google Fonts (Inter) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">  

  <!-- Custom CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">

</head>

<body>

  <div class="page">

    <!-- Header section -->
    <div class="header card">
      <div class="header-row">
        <div class="emoji-left">
          <img src="https://raw.githubusercontent.com/drewpri411/FIT3179_Visualisation_2/main/images/airplane.svg" alt="Plane Icon" class="header-icon" />
        </div>
        <div class="header-text">
          <h1>Navigating Migration: Unveiling the Patterns of Migration to Malaysia</h1>
          <p>Explore global and regional migration patterns to Malaysia through various visualizations, analyzing trends, and geographical insights.</p>
        </div>
        <div class="emoji-right">
          <img src="https://raw.githubusercontent.com/drewpri411/FIT3179_Visualisation_2/main/images/globe-showing-asia-australia.svg" alt="Globe Icon" class="header-icon" />
        </div>
      </div>
    </div>
    
       
    <!-- End Header section -->

    <!-- 1. Global Context - Choropleth Map -->
    <div class="pure-g card">
      <div class="pure-u-1-1">
        <h2>Global Migration Trends to Malaysia (2020-2024)</h2>
        <p>
          The global map shows that countries in South Asia and Southeast Asia, such as Bangladesh, India, and Indonesia, are key contributors to migration into Malaysia. In contrast, migration from Europe and the Americas remains low. This highlights Malaysia’s reliance on labor from neighboring regions, where economic conditions often push workers to seek opportunities abroad.
        </p>
        <div id="choropleth_map" class="vis-container"></div>
      </div>
    </div>
    <!-- End Choropleth Map -->

    <!-- 2. Total Arrivals Over Time - Line Chart -->
    <div class="pure-g card">
      <div class="pure-u-1-1">
        <h2>The Impact of COVID-19 on Migration</h2>
        <p>
          The line chart highlights a sharp drop in migration during April 2020 due to COVID-19 lockdowns. Migration flows from major source countries like Bangladesh and Indonesia fell dramatically, showing how the pandemic disrupted global mobility. Although migration slowly recovered by the end of 2020, the chart reflects how severely the crisis impacted Malaysia’s migrant labor market.
        </p>
        <div id="line_chart" class="vis-container"></div>
      </div>
    </div>
    <!-- End Total Arrivals Over Time -->

    <!-- 3. Migration Distribution Across Malaysian States - Choropleth Map -->
    <div class="pure-g card">
      <div class="pure-u-1-1">
        <h2>State-Wise Migration Trends in Malaysia</h2>
        <p>
          The state-wise map illustrates that Selangor, Kuala Lumpur, and Johor were the top destinations for migrants during this period. These economically advanced regions attract most migrant workers, reflecting the high demand for labor in urban and industrial centers. States with less industrialization, such as those in East Malaysia, saw significantly lower migration.
        </p>
        <div id="state_choropleth_map" class="vis-container"></div>
      </div>
    </div>
    <!-- End Migration Distribution Across Malaysian States -->

    <!-- 4. Gender Breakdown of Migrants - Bar Chart -->
    <div class="pure-g card">
      <div class="pure-u-1-1">
        <h2>Gender Breakdown of Migrants by Country</h2>
        <p>
          The gender breakdown chart reveals that countries like Indonesia and the Philippines send a more balanced mix of male and female migrants, while countries like Bangladesh and Pakistan send predominantly male migrants. This suggests differences in the types of jobs migrants take up in Malaysia, with men often working in construction and women in caregiving roles.
        </p>
        <div id="pyramid_chart" class="vis-container"></div>
      </div>
    </div>
    <!-- End Gender Breakdown of Migrants -->

  </div>

  <!-- Scripts to embed Vega charts -->
  <script type="text/javascript">
    var specChoropleth = "js/choropleth_map.vg.json";
    vegaEmbed('#choropleth_map', specChoropleth, { "actions": false }).catch(console.error);

    var specLineChart = "js/line_chart.vg.json";
    vegaEmbed('#line_chart', specLineChart, { "actions": false }).catch(console.error);

    var specStateChoropleth = "js/state_map.vg.json";
    vegaEmbed('#state_choropleth_map', specStateChoropleth, { "actions": false }).catch(console.error);

    var specPyramid = "js/pyramid.vg.json";
    vegaEmbed('#pyramid_chart', specPyramid, { "actions": false }).catch(console.error);

  </script>

</body>

</html>
